{% extends '_base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "Новый пароль" %}{% endblock %}
{% block styles %}<link rel="stylesheet" href="{% static 'css/lk_add.css' %}">{% endblock %}

{% block content %}
<main class="auth">
  <section class="auth-card">
    <h1>Новый пароль</h1>

    {% if token_fail %}
      <p>Ссылка недействительна. Запросите сброс пароля ещё раз.</p>
      <p><a class="btn" href="{% url 'account_reset_password' %}">Сбросить пароль</a></p>
    {% else %}
      <form method="post" action="{{ action_url }}" novalidate>
        {% csrf_token %}
        <label>
          <span>Новый пароль</span>
          {{ form.password1 }}
          {% for e in form.password1.errors %}<small class="field-error">{{ e }}</small>{% endfor %}
        </label>
        <label>
          <span>Повторите пароль</span>
          {{ form.password2 }}
          {% for e in form.password2.errors %}<small class="field-error">{{ e }}</small>{% endfor %}
        </label>
        <button type="submit" class="btn">Сохранить</button>
      </form>
    {% endif %}
  </section>
</main>
{% endblock %}
